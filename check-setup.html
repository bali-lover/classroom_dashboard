<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>설정 확인</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f7fa;
        }
        .card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        .warning { color: #f59e0b; }
        .step {
            margin: 15px 0;
            padding: 10px;
            border-left: 4px solid #e5e7eb;
            background: #f9fafb;
        }
        .step.success { border-color: #10b981; }
        .step.error { border-color: #ef4444; }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 5px 0 0;
        }
        .btn:hover { background: #2563eb; }
    </style>
</head>
<body>
    <div class="card">
        <h1>🔧 Class Progress 설정 확인</h1>
        
        <div id="firebase-check" class="step">
            <strong>Firebase 설정 확인 중...</strong>
        </div>
        
        <div id="next-steps" style="display: none;">
            <h3>다음 단계:</h3>
            <a href="dashboard.html" class="btn">📊 교사용 대시보드</a>
            <a href="student.html" class="btn">👨‍🎓 학생 페이지</a>
            <a href="SETUP.md" class="btn" target="_blank">📖 설정 가이드</a>
        </div>
    </div>

    <script type="module">
        async function checkFirebaseSetup() {
            const checkDiv = document.getElementById('firebase-check');
            const nextSteps = document.getElementById('next-steps');
            
            try {
                // Firebase 설정 파일 로드 시도
                await import('./firebase-config.js');
                
                // Firebase 함수 확인
                if (window.firebaseDb && window.firebaseFunctions) {
                    checkDiv.className = 'step success';
                    checkDiv.innerHTML = '<strong class="success">✅ Firebase 설정 완료!</strong><br>모든 기능을 사용할 수 있습니다.';
                    nextSteps.style.display = 'block';
                } else {
                    throw new Error('Firebase 초기화 실패');
                }
                
            } catch (error) {
                checkDiv.className = 'step error';
                checkDiv.innerHTML = `
                    <strong class="error">❌ Firebase 설정 필요</strong><br>
                    <p>firebase-config.js 파일이 없거나 올바르지 않습니다.</p>
                    <p>설정 방법:</p>
                    <ol>
                        <li>firebase-config.example.js 파일을 복사</li>
                        <li>firebase-config.js로 이름 변경</li>
                        <li>실제 Firebase 프로젝트 설정으로 교체</li>
                    </ol>
                `;
                
                // 설정 가이드 링크만 표시
                nextSteps.innerHTML = '<a href="SETUP.md" class="btn" target="_blank">📖 설정 가이드 보기</a>';
                nextSteps.style.display = 'block';
            }
        }
        
        checkFirebaseSetup();
    </script>
</body>
</html>